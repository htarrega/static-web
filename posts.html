<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Hugo Tárrega's writing - Essays on code, literature, and ideas" />

    <!-- Open Graph / LinkedIn -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://htarrega.me/posts.html" />
    <meta property="og:title" content="Posts - Hugo Tárrega" />
    <meta property="og:description" content="Essays on code, literature, and ideas" />
    <meta property="og:image" content="https://htarrega.me/favicon/apple-touch-icon.png" />
    <meta property="og:site_name" content="Hugo Tárrega" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@htarrega" />
    <meta name="twitter:title" content="Posts - Hugo Tárrega" />
    <meta name="twitter:description" content="Essays on code, literature, and ideas" />
    <meta name="twitter:image" content="https://htarrega.me/favicon/apple-touch-icon.png" />

    <link rel="canonical" href="https://htarrega.me/posts.html" />
    <link rel="icon" href="favicon/favicon.png" type="image/png">
    <link rel="apple-touch-icon" href="favicon/apple-touch-icon.png">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif;
            line-height: 1.4;
            font-size: 17px;
            padding: 0 10px;
            margin: 50px auto;
            max-width: 650px;
            background-color: black;
            color: white;
        }

        #maincontent {
            max-width: 42em;
            margin: 15px auto;
            margin-top: 70px;
        }

        h2 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgb(50, 50, 50);
        }

        a {
            color: white;
            text-decoration: underline;
        }

        a:hover {
            color: rgb(0, 172, 75);
            text-decoration: none;
        }

        a:visited {
            color: white;
        }

        a:active {
            color: rgb(0, 172, 75);
        }

        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: black;
            padding: 10px 0;
            z-index: 1000;
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 0;
            padding: 0;
            max-width: 650px;
            margin: 0 auto;
            padding: 10px;
        }

        nav a {
            text-decoration: none;
            font-size: 16px;
        }

        nav a:hover {
            color: rgb(0, 172, 75);
        }

        .post-item {
            margin-bottom: 30px;
            padding: 20px;
            border-bottom: 1px solid rgb(50, 50, 50);
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .post-item:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .post-item:last-child {
            border-bottom: none;
        }

        .post-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
            margin-top: 0;
        }

        .post-title a {
            color: white;
            text-decoration: none;
        }

        .post-title a:hover {
            color: rgb(0, 172, 75);
            text-decoration: underline;
        }

        .post-meta {
            font-size: 14px;
            color: rgb(120, 120, 120);
            margin-bottom: 12px;
        }

        .post-excerpt {
            font-size: 16px;
            color: rgb(200, 200, 200);
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .post-read-more {
            font-size: 14px;
            color: white;
            text-decoration: underline;
        }

        .post-read-more:hover {
            color: rgb(0, 172, 75);
            text-decoration: none;
        }
    </style>
    <title>Hugo Tárrega - Posts</title>
</head>

<body>
    <nav>
        <ul>
            <li><a href="index.html">[htarrega.me]</a></li>
            <li><a href="cv.html">[cv]</a></li>
            <li><a href="bookshelf.html">[bookshelf]</a></li>
            <li><a href="posts.html">[posts]</a></li>
        </ul>
    </nav>
    <div id="maincontent">
        <h2>Posts</h2>
        <div id="posts-container"></div>
    </div>

    <script>
        let posts = [];

        async function loadPosts() {
            try {
                const response = await fetch('resources/posts.json');
                posts = await response.json();
                renderPosts();
            } catch (error) {
                console.error('Error loading posts:', error);
                document.getElementById('posts-container').innerHTML = '<p>No posts available yet.</p>';
            }
        }

        function renderPosts() {
            const container = document.getElementById('posts-container');
            container.innerHTML = '';

            if (posts.length === 0) {
                container.innerHTML = '<p>No posts available yet.</p>';
                return;
            }

            posts.forEach(post => {
                const postElement = document.createElement('div');
                postElement.className = 'post-item';
                postElement.onclick = () => window.location.href = post.url || '#';
                postElement.innerHTML = `
                    <h3 class="post-title"><a href="${post.url || '#'}">${post.title}</a></h3>
                    <div class="post-meta">${post.date}</div>
                    <p class="post-excerpt">${post.excerpt}</p>
                    <a href="${post.url || '#'}" class="post-read-more">Read more →</a>
                `;
                container.appendChild(postElement);
            });
        }

        loadPosts();
    </script>
</body>

</html>